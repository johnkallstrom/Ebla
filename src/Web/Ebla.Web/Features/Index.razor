@page "/"

<PageTitle>Ebla</PageTitle>

<AuthorizeView Roles="User, Administrator">
    <Authorized>
        <MudGrid>
            <MudItem xs="2">
                <MudPaper Class="pa-8 d-flex align-center gap-4">
                    @if (Loading)
                    {
                        <MudProgressCircular Color="Color.Primary" Indeterminate="true" />
                    }
                    else
                    {
                        <MudIcon Icon="fas fa-book" Color="Color.Primary" Style="font-size: 4rem;" />
                        <MudText Typo="Typo.body2">Total books:</MudText>
                        <MudText Typo="Typo.h3">@Model.TotalBooks</MudText>
                    }
                </MudPaper>
            </MudItem>
        </MudGrid>
        <MudGrid>
            <MudItem xs="4">
                <MudPaper Class="pa-4">
                    @if (Loading)
                    {
                        <MudProgressCircular Color="Color.Primary" Indeterminate="true" />
                    }
                    else
                    {
                        <MudChart ChartType="ChartType.Pie" InputData="Model.GenreData" InputLabels="@Model.GenreLabels" Width="300px" Height="300px" />
                    }
                </MudPaper>
            </MudItem>
        </MudGrid>
    </Authorized>
</AuthorizeView>