<MudDialog>
    <DialogContent>
        <EditForm Model="Model" OnValidSubmit="Submit">
            <MudTextField Label="Title" @bind-Value="Model.Title" For="(() => Model.Title)" />
            <MudTextField Label="Description" Lines="5" @bind-Value="Model.Description" For="(() => Model.Description)" Class="mt-3" />
            <MudNumericField Label="Pages" @bind-Value="Model.Pages" For="(() => Model.Pages)" HideSpinButtons="true" Class="mt-3" />
            <MudDatePicker Label="Published" @bind-Date="Model.Published" For="(() => Model.Published)" DisableToolbar="true" Class="mt-3" />
            <MudTextField Label="Language" @bind-Value="Model.Language" For="(() => Model.Language)" Class="mt-3" />
            <MudTextField Label="Country" @bind-Value="Model.Country" For="(() => Model.Country)" Class="mt-3" />
            <MudTextField Label="Image" @bind-Value="Model.Image" For="(() => Model.Country)" Class="mt-3" />
            <MudSelect T="string" Label="Author" AnchorOrigin="Origin.BottomCenter">
                <MudSelectItem Value="@("Author One")" />
                <MudSelectItem Value="@("Author Two")" />
                <MudSelectItem Value="@("Author Three")" />
                <MudSelectItem Value="@("Author Four")" />
                <MudSelectItem Value="@("Author Five")" />
            </MudSelect>
            <MudSelect T="string" Label="Genre" AnchorOrigin="Origin.BottomCenter">
                <MudSelectItem Value="@("Genre One")" />
                <MudSelectItem Value="@("Genre Two")" />
                <MudSelectItem Value="@("Genre Three")" />
                <MudSelectItem Value="@("Genre Four")" />
                <MudSelectItem Value="@("Genre Five")" />
            </MudSelect>
        </EditForm>
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="Cancel">Cancel</MudButton>
        <MudButton Color="Color.Primary" OnClick="Submit">Save</MudButton>
    </DialogActions>
</MudDialog>

@code {
    [CascadingParameter]
    public MudDialogInstance MudDialog { get; set; }

    public CreateBookViewModel Model { get; set; } = new CreateBookViewModel();

    private void Cancel() => MudDialog.Cancel();

    private void Submit()
    {
        int bookId = 0;
        Console.WriteLine("Form submitted!");
        MudDialog.Close(DialogResult.Ok(bookId));
    }

    protected override void OnInitialized()
    {
        var options = new DialogOptions
        {
            Position = DialogPosition.TopCenter,
            MaxWidth = MaxWidth.Medium,
            FullWidth = true,
            CloseOnEscapeKey = true,
            DisableBackdropClick = true,
        };

        MudDialog.SetTitle("New book");
        MudDialog.SetOptions(options);
    }
}